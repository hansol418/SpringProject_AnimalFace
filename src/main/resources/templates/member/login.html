<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <title>로그인</title>
  <meta name="description" content="로그인 페이지">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/css/swiper.min.css">
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/mypage.css">
</head>

<body class="ko-KR">
<div class="app signup" data-app>
  <header class="app-header display-flex">
    <button type="button" class="app-header-btn back" title="뒤로가기" onclick="history.back();"></button>
  </header>

  <main class="app-main">
    <h2>로그인</h2>
    <form action="/member/login" method="post" class="form_w" id="loginForm">
      <input type="text" id="memberId" name="username" class="login-input w-100 display-block" placeholder="아이디 입력" required autofocus>
      <input type="password" id="memberPw" name="password" class="login-input w-100 display-block" placeholder="비밀번호 입력" required>
      <div class="checkbox-wrap">
        <label class="remember-me-label">
          <input type="checkbox" name="remember-me" />
          Remember Me
        </label>
      </div>
      <div class="sign-in-actions">
        <button class="btn yellow w-100" type="submit">로그인</button>
      </div>
      <hr>
      <div class="sign-up-wrap text-center">
        <p class="sns-text">SNS로 시작하기</p>
        <ul class="sns-sign-up">
<!--          <li>-->
<!--            <a href="/oauth2/authorization/kakao" class="kakao-login">-->
<!--              <img src="/img/sns-kakao.png" alt="카카오 로그인 화면">-->
<!--            </a>-->
<!--          </li>-->
        </ul>
        <button type="button" class="btn email-log" id="signupButton2">회원가입</button>
        <span id="login-law">
          로그인(가입) 시 <a href="#">이용약관</a> 및 <a href="#">개인정보 취급방침</a>에 동의하는 것으로 간주합니다.
        </span>
      </div>
    </form>
  </main>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    localStorage.removeItem("accessToken");
    localStorage.removeItem("refreshToken");

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('logout')) {
      alert('성공적으로 로그아웃 되었습니다.');
    }

    const signupButton = document.getElementById('signupButton2');
    if (signupButton) {
      signupButton.addEventListener('click', function() {
        window.location.href = '/member/register';
      });
    }
  });

  function loginWithKakao() {
    alert('카카오 계정으로 로그인 기능은 아직 구현되지 않았습니다.');
  }
</script>

<style>
  .app-main {
    padding: 20px;
    text-align: center;
  }

  h2 {
    margin-bottom: 20px;
    font-size: 24px;
    font-weight: bold;
  }

  .login-input {
    margin-bottom: 15px;
    padding: 10px;
    font-size: 16px;
  }

  .checkbox-wrap {
    margin: 10px 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .remember-me-label {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 14px;
    white-space: nowrap;
  }

  .sign-in-actions {
    margin: 20px 0;
  }

  .btn {
    height: 40px;
    max-width: 300px;
    width: 100%;
    margin: 10px auto;
    display: block;
    font-size: 16px;
  }

  hr {
    margin: 20px 0;
    border: none;
    border-top: 1px solid #ddd;
  }

  .sign-up-wrap {
    margin-top: 20px;
    text-align: center;
  }

  .sns-text {
    font-size: 16px;
    margin-bottom: 10px;
  }

  .sns-sign-up {
    list-style: none;
    padding: 0;
    margin: 0 0 20px 0;
    display: flex;
    justify-content: center !important; /* 중앙 정렬 강제 */
    align-items: center;
    width: 100%;
  }

  .sns-sign-up li {
    margin: 0 5px;
    display: flex;
    justify-content: center;
  }

  .kakao-login {
    display: block !important;
    max-width: 300px !important;
    width: 100% !important;
    text-align: center !important;
    margin: 0 auto !important; /* 중앙 정렬 */
  }

  .kakao-login img {
    width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }

  #login-law {
    font-size: 12px;
    color: #666;
    display: block;
    margin-top: 15px;
  }

  #login-law a {
    color: #007bff;
    text-decoration: underline;
  }
</style>

</body>
</html>
